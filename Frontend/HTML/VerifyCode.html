<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/VerifyCodeStyles.css">
  <title>Verify Code</title>
</head>
<body>
  <h1 class="Name-Of-Company">UniCareerHub</h1>
  <h2 class="tagline">Connecting Students for Career Success</h2>
  <div class="container">
    <form id="loginForm" action="/verify" method="POST">
      
      <h2>Enter the code sent to your email</h2>
      <input type="hidden" id="token" name="token">
      <div class="error" id="error"></div>
      <div class="input-box">
        <input type="text" id="verificationCode" name="verificationCode" placeholder="Code" required>
      </div>
      <button type="submit">Verify</button>
    </form>
  </div>
</body>
<script src="/js/api.js"></script>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get('token');
  if (token) 
  {
    document.getElementById('token').value = token;
  }
  const params = new URLSearchParams(window.location.search);
    const error = params.get('error');
    if (error === 'Expired') 
  {
    document.getElementById('error').innerHTML = 'Your verification code has expired. <a href="/verify/resend?token=' + encodeURIComponent(token) + '">Request a new code</a>.';
  }
  else
  {
    document.getElementById('error').textContent = error;
  }
</script>
</html>